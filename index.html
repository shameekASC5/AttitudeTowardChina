<!doctype html>
<html>
  <head>
    <meta content="utf-8" http-equiv="encoding">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Attitude Toward China </title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel= "stylesheet" href="homeStyle.css">
    <link rel= "stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script type="text/javascript" src="accordianScript.js" defer></script>
    <!-- <script type="text/javascript" src="data_config.js" defer></script> -->
    <script type="text/javascript" src="data_config.js" defer></script>
    <script type="text/javascript" src="script.js" defer></script>
    <script type="text/javascript" src="drawGraphs.js" defer></script>
  </head>
  <body onload="citationsGraph()">
      <!-- <div id="header">
         <img style = "height: 7em; width: 27em" src="assets/ccc_logo.png">
         <img style = "height: 6em; width: 20%;" src="assets/PU-standard.svg">
      </div> -->
      <!-- <p id="title">China Impact Project</p> -->
      <div id="main-container">
          <div id="source-container">
             <!-- Title -->
             <div id="title-container">
                <h1 style="margin: 0;">Understanding</h1>
                <div id="title-row">
                    <h3>China with Numbers </h3>
                    <!-- <h4>with</h4>
                    <h3>numbers</h3> -->
                </div>
                <!-- <p>Understanding China with Numbers</p> -->
                <!-- <span>Understanding</span>
                <span>China with Numbers</span> -->
             </div>
             <!-- Search Bar -->
             <img style = "height: 5em; width: 23em" src="assets/ccc_logo.png">
             <div id="search-container">
                <form action=""></form>
                    <input class="input-field" type="text" placeholder="search statistics...">
                    <i class="fa-solid fa-magnifying-glass icon"></i>
                </form>
             </div>
             <!-- Foldable categories -->
             <div class="accordian-container">
                <!-- <h2>Research Categories</h2> -->
                <button class="accordion">Education</button>
                <div class="accordion-content">
                   <div class="sized-box"></div>
                        <div class="dropdown-content">
                            <div class="dropdown-content-line">
                                <a href="javascript:papersGraph()">Academic Papers</a>
                                <span id="avg-papers">/yr</span>
                            </div>
                            <div class="dropdown-content-line">
                                <a href="javascript:citationsGraph();">Aggregate Citations</a>
                                <span id="avg-income">/yr</span>
                            </div>
                        </div>
                </div>

                <button class="accordion">Economics</button>
                <div class="accordion-content">
                   <div class="sized-box"></div>
                   <div class="dropdown-content">
                      <div class="dropdown-content-line">
                         <a href="javascript:hi();">Income</a>
                         <span id="avg-income">USD</span>
                      </div>
                      <div class="dropdown-content-line">
                         <a href="">Consumption</a>
                         <span id="avg-income">USD</span>
                      </div>
                   </div>
                </div>

                <button class="accordion">Infrastructure</button>
                <div class="accordion-content">
                   <div class="sized-box"></div>
                   <div class="dropdown-content">
                      <div class="dropdown-content-line">
                         <a href="javascript:roadGraph();">Public Roads</a>
                         <span id="avg-papers">/yr</span>
                      </div>
                      <div class="dropdown-content-line">
                         <a href="javascript:roadGraph();">Highways/Expressways</a>
                         <span id="avg-income">/yr</span>
                      </div>
    
                   </div>
                </div>

                <button class="accordion">Wellness & Well-being</button>
                <div class="accordion-content">
                   <div class="sized-box"></div>
                   <div class="dropdown-content">
                      <div class="dropdown-content-line">
                         <a href="javascript:hi();">Coming Soon!</a>
                         <!-- <span id="avg-papers">/yr</span> -->
                      </div>
                      <div class="dropdown-content-line">
                         <a href="javascript:hi();">Coming Soon!</a>
                         <!-- <span id="avg-income">/yr</span> -->
                      </div>
    
                   </div>
                </div>

                <button class="accordion">Innovation & Technology</button>
                <div class="accordion-content">
                   <div class="sized-box"></div>
                   <div class="dropdown-content">
                      <div class="dropdown-content-line">
                         <a href="javascript:patentGraph();">Patents and IP</a>
                         <span id="avg-papers">/yr</span>
                      </div>
                      <div class="dropdown-content-line">
                         <a href="javascript:internetUseGraph();">Aggregate Internet Usage</a>
                         <span id="avg-income">/yr</span>
                      </div>
    
                   </div>
                </div>

                <button class="accordion">Governance</button>
                <div class="accordion-content">
                   <div class="sized-box"></div>
                   <div class="dropdown-content">
                      <div class="dropdown-content-line">
                         <a href="javascript:papersGraph();">Academic Papers</a>
                         <span id="avg-papers">/yr</span>
                      </div>
                      <div class="dropdown-content-line">
                         <a href="javascript:citationsGraph();">Aggregate Citations</a>
                         <span id="avg-income">/yr</span>
                      </div>
                   </div>
                </div>
             </div>
             <!-- Filters -->
             <div id="filters">
                <div id="choose_data">
                   <form id= "source_selector" onsubmit="false" target="_top" style="display: none">
                      <label for="data_source" style="background-color: white;">Data:</label>
                      <select name="data_source" id="data_source" onchange="updateDataSource()">
                         <option value="citations">Academia: Citations</option>
                         <option value="papers">Academia: Paper Publishing</option>
                         <option value="roads">Infrastructure: Street/Road </option>
                         <option value="internet">Technology: Internet Usage </option>
                         <option value="patent">Technology: Patent Data</option>
                         </select>
                         <!-- <a id="source_downloader">
                            <i onclick="downloadDataSource()" class="fa-solid fa-file-arrow-down fa-xl"></i>
                         </a> -->
                  </form>
                  <form id="filters_form">
                    <div id="graphtype_selector">
                        <label for="graph_type" style="background-color: white;">Graphic:&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                        </label>
                        <select name="graph_type" class="filter_select" id="graph_type" onchange="updateGraphType()">
                        <option value="line">Line Chart</option>
                        <option value="stack">Stack Chart</option>
                        <!-- <option value="histogram">Histogram Chart</option> -->
                        </select>
                    </div>
                    <div id="Group_selector">
                        <label for="Group" style="background-color: white;">Group:&nbsp&nbsp&nbsp
                        </label>
                          <select name="Group" class="filter_select" id="Group" onchange="updateDataFromGroup()">
                             <option value="">All Data</option>
                          </select>
                    </div>
                    <div id="year_range_selector">
                        <label for="start_year" style="background-color: white;">Year:</label>
                        <select name="start_year" id="start_year" onchange="updateYearRange()">
                            <!-- <option value="">1890</option>
                            <option value="">1850</option> -->
                        </select>
                        <span>to</span>
                        <select name="end_year" id="end_year" onchange="updateYearRange()">
                            <!-- <option value="">1990</option>
                            <option value="">2010</option> -->
                         </select>
                    </div>
                  </form>


                      <!-- <form id="graphtype_selector" onsubmit="false" target="_top">
                         <label for="graph_type" style="background-color: white;">Graphic:</label>
                         <select name="graph_type" id="graph_type" onchange="updateGraphType()">
                            <option value="line">Line Chart</option>
                            <option value="stack">Stack Chart</option>
                            <option value="histogram">Histogram Chart</option> -->
                            <!-- </select> -->
                            <!-- <a>
                               <i onclick="toggleAnimation()" id="animation_bt" class="downloader fa-solid fa-video-slash fa-xl"></i>
                            </a> -->
                      <!-- </form>
                   <form id="Group_selector" onsubmit="false" target="_top">
                      <label for="Group" style="background-color: white;">Group:</label>
                      <select name="Group" id="Group" onchange="updateDataFromGroup()">
                         <option value="">All Data</option>
                         </select>
                         <a>
                            <i class="fa-solid fa-chart-line fa-xl"></i>
                         </a> -->
                   <!-- </form>

                   <form id="year_range_selector" onsubmit="false" target="_top">
                    <label for="start_year" style="background-color: white;">Year:</label>
                    <select name="start_year" id="start_year" onchange="setYearRange()()">
                        <option value="">1890</option>
                        <option value="">1850</option>
                    </select>
                    <span>to</span>
                    <select name="end_year" id="end_year" onchange="setYearRange()()">
                        <option value="">1990</option>
                        <option value="">2010</option>
                     </select>
                        <a>
                          <i class="fa-solid fa-chart-line fa-xl"></i>
                       </a> -->
                 <!-- </form> -->
                </div>
             </div>
             <!-- <div id="filter-container">
                <div class="filter">
                   <span>Filter 1</span>
                   <input id="filter-one">
                </div>
                <div class="filter">
                   <span>Filter 2</span>
                   <input id="filter-two">
                </div>
                <div class="filter">
                   <span>Year</span>
                   <input style="width:20%" id="start-year">
                   <span>To</span>
                   <input style="width:20%" id="end-year">
                </div>
              Download data/figure -->

              <!-- download Buttons -->
             <div id="buttons">
                <a id="source_downloader" class="downloader">
                    <i onclick="downloadDataSource()" class="fa-solid fa-file-arrow-down fa-lg"></i>
                    <span>Download Data</span>
                </a>
                <a class="downloader">
                    <i onclick="downloadSvg()" id="graph_downloader" class="fa-solid fa-chart-line fa-lg"></i>
                    <span>Download Figure</span>
                </a>
             </div>
             <!-- Princeton/CCC logo -->
             <div id="logo-container">
                 <img style = "height: 6em; width: 35%;" src="assets/PU-standard.svg">
                <img style = "height: 4em; width: 55%" src="assets/ccc_logo.png">
             </div>
            </div>
          <!-- </div> -->
          <div id="data-container">
             <!-- Animation Toggle/Help Modal -->
             <div id="floating_buttons">
                <div id ="help_buttons">
                    <!-- Animation Button -->
                    <a class="downloader">
                    <i onclick="toggleAnimation();" id="animation_btn" class="fa-solid fa-video-slash fa-2x"></i>
                    <!-- <span id="animate_text">No Animation</span> -->
                    </a>
                    <!-- The Modal -->
                    <div id="info">
                        <i onclick="infoModal()" class="fa-solid fa-circle-question fa-2x"></i>
                        <div id="myModal" class="modal">
                            <!-- Modal content -->
                            <div class="modal-content">
                                <span class="close">&times;</span>
                                <h2>Data Visualizer User Guide</h2>
                                <h4>Choosing Data</h4>
                                <p>Use the first selector labeled <i>"Data Source"</i> to choose from our available data. Currently we have data on science, internet use, road construction and patents.
                                </p>
                                <h4>Isolating Groups</h4>
                                <p>For data sources with many lines, you can select a subcategory using the second selector labeled <i>"Subcategory"</i> to view line groups with fewer lines. This extends into domestic and cross-country analysis.</p>
                                <h4>Buttons</h4>
                                <p>
                                    <i class="fa-solid fa-video fa-xl"></i>
                                    Click the video button to disable the graphs animation.
                                </p>
                                <p>
                                    <i class="fa-solid fa-video-slash fa-xl"></i>
                                    Click the slashed video button to animate the graph and watch the lines grow! Keep in mind that some graphs such as stack charts are not built for traditional line animation and may appear skewed.
                                </p>
                                <p>
                                    <i class="fa-solid fa-file-arrow-down fa-xl"></i>
                                    This button allows you to download the data source files in CSV format. 
                                </p>
                                <p>
                                    <i class="downloader fa-solid fa-chart-line fa-xl"></i>
                                    This button allows you to download the generated graphs in SVG format.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
             </div>
            <!-- SVG Graphic -->
            <div id ="svg-container"></div>
          </div>
      </div>
      <!-- <main>
      </main> -->
   <!-- <footer>
      <p>
         ©Copyright
         <script>document.write(new Date().getFullYear());</script>
         | All rights reserved
      </p>
   </footer> -->
  </body>
</html>
