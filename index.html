<!doctype html>
<html>
  <head>
    <meta content="utf-8" http-equiv="encoding">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Attitude Toward China </title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel= "stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script type="text/javascript" src="script.js" defer></script>
  </head>
  <body onload="citationsGraph()">
      <div id="header">
         <img style = "height: 7em; width: 27em" src="assets/ccc_logo.png">
         <img style = "height: 6em; width: 20%;" src="assets/PU-standard.svg">
      </div>
      <p id="title">China Impact Project</p>
      <main>      
         <div id="info">
            <i onclick="infoModal()" class="fa-solid fa-circle-question fa-2x"></i>
            <!-- The Modal -->
            <div id="myModal" class="modal">
               <!-- Modal content -->
               <div class="modal-content">
                  <span class="close">&times;</span>
                  <h2>Data Visualizer User Guide</h2>
                  <h4>Choosing Data</h4>
                  <p>Use the first selector labeled <i>"Data Source"</i> to choose from our available data. Currently we have data on science, internet use, road construction and patents.
                  </p>
                  <h4>Isolating Groups</h4>
                  <p>For data sources with many lines, you can select a subcategory using the second selector labeled <i>"Subcategory"</i> to view line groups with fewer lines. This extends into domestic and cross-country analysis.</p>
                  <h4>Buttons</h4>
                  <p>
                     <i class="fa-solid fa-video fa-xl"></i>
                     Click the video button to disable the graphs animation.
                  </p>
                  <p>
                     <i class="fa-solid fa-video-slash fa-xl"></i>
                     Click the slashed video button to animate the graph and watch the lines grow! Keep in mind that some graphs such as stack charts are not built for traditional line animation and may appear skewed.
                  </p>
                  <p>
                     <i class="fa-solid fa-file-arrow-down fa-xl"></i>
                     This button allows you to download the data source files in CSV format. 
                  </p>
                  <p>
                     <i class="downloader fa-solid fa-chart-line fa-xl"></i>
                     This button allows you to download the generated graphs in SVG format.
                  </p>
               </div>
            </div>
         </div>

         <div id="filters">
            <div id="choose_data">
               <form id= "source_selector" onsubmit="false" target="_top">
                  <label for="data_source" style="background-color: white;">Data:</label>
                  <select name="data_source" id="data_source" onchange="updateDataSource()">
                     <option value="citations">Academia: Citations</option>
                     <option value="papers">Academia: Paper Publishing</option>
                     <option value="roads">Infrastructure: Street/Road </option>
                     <option value="internet">Technology: Internet Usage </option>
                     <option value="patent">Technology: Patent Data</option>
                     </select>
                     <!-- <a id="source_downloader">
                        <i onclick="downloadDataSource()" class="fa-solid fa-file-arrow-down fa-xl"></i>
                     </a> -->
                  </form>
                  <form id="graphtype_selector" onsubmit="false" target="_top">
                     <label for="graph_type" style="background-color: white;">Graph:</label>
                     <select name="graph_type" id="graph_type" onchange="updateGraphType()">
                        <option value="line">Line Chart</option>
                        <option value="stack">Stack Chart</option>
                        <!-- <option value="histogram">Histogram Chart</option> -->
                        </select>
                        <!-- <a>
                           <i onclick="toggleAnimation()" id="animation_bt" class="downloader fa-solid fa-video-slash fa-xl"></i>
                        </a> -->

                  </form>
            
               <form id="subgroup_selector" onsubmit="false" target="_top">
                  <label for="group_source" style="background-color: white;">Subgroup:</label>
                  <select name="group_source" id="group_source" onchange="updateDataFromSubGroup()">
                     <option value="">Full Data</option>
                     </select>
                     <!-- <a>
                        <i class="fa-solid fa-chart-line fa-xl"></i>
                     </a> -->
               </form>
            </div>
         </div>

         <div id ="svg-container">
         </div>
         <div id="buttons">
            <a id="source_downloader" class="downloader">
               <i onclick="downloadDataSource()" class="fa-solid fa-file-arrow-down fa-3x"></i>
               <span>CSV data</span>
               
            </a>
            <a class="downloader">
               <i onclick="toggleAnimation()" id="animation_btn" class="fa-solid fa-video-slash fa-3x"></i>
               <span id="animate_text">No Animation</span>
            </a>
            <a class="downloader">
               <i onclick="downloadSvg()" id="graph_downloader" class="fa-solid fa-chart-line fa-3x"></i>
               <span>SVG graph</span>
            </a>
         </div>
      </main>
   <footer>
      <p>
         Â©Copyright        
         <script>document.write(new Date().getFullYear());</script>
         | All rights reserved
      </p>
   </footer>
  </body>
</html>
